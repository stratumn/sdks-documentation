(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{83:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return s})),n.d(t,"toc",(function(){return p})),n.d(t,"default",(function(){return u}));var a=n(3),o=n(7),r=(n(0),n(94)),i=n(98),c=n(99),l={title:"\ud83d\udd27  Configuration"},s={unversionedId:"configuration",id:"configuration",isDocsHomePage:!1,title:"\ud83d\udd27  Configuration",description:"Required parameters",source:"@site/docs/configuration.mdx",slug:"/configuration",permalink:"/sdks-documentation/docs/configuration",editUrl:"https://github.com/stratumn/sdks-documentation/blob/master/docs/configuration.mdx",version:"current",sidebar:"docs",previous:{title:"\ud83d\udce1 Installing",permalink:"/sdks-documentation/docs/installation"},next:{title:"\ud83d\ude80 Usage",permalink:"/sdks-documentation/docs/usage"}},p=[{value:"Required parameters",id:"required-parameters",children:[]},{value:"Bot set up",id:"bot-set-up",children:[]},{value:"SDKs configuration",id:"sdks-configuration",children:[]}],b={toc:p};function u(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h3",{id:"required-parameters"},"Required parameters"),Object(r.b)("p",null,"You will need to provide:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"a valid workflow id that has been created via ",Object(r.b)("a",{parentName:"li",href:"https://trace.stratumn.com"},"Trace"),"."),Object(r.b)("li",{parentName:"ul"},"a secret that will be used to authenticate via ",Object(r.b)("a",{parentName:"li",href:"https://account.stratumn.com"},"Account"))),Object(r.b)("p",null,"The authentication secret can be one of the following:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"a ",Object(r.b)("inlineCode",{parentName:"li"},"CredentialSecret")," object containing the email and password of the account"),Object(r.b)("li",{parentName:"ul"},"a ",Object(r.b)("inlineCode",{parentName:"li"},"PrivateKeySecret")," object containing the signing private key of the account")),Object(r.b)("p",null,"Notes:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"You can find the workflow id in the url of your workflow. For example, when looking at ",Object(r.b)("inlineCode",{parentName:"li"},"https://trace.stratumn.com/workflow/95572258"),", the id is ",Object(r.b)("inlineCode",{parentName:"li"},"95572258"),"."),Object(r.b)("li",{parentName:"ul"},"When a ",Object(r.b)("inlineCode",{parentName:"li"},"PrivateKeySecret")," is provided, a unique message is generated, signed and sent to ",Object(r.b)("a",{parentName:"li",href:"https://account.stratumn.com"},"Account")," for validation.\nWe check that the signature and the message are valid and return an authentication token in that case.")),Object(r.b)("h3",{id:"bot-set-up"},"Bot set up"),Object(r.b)("p",null,"In order to use the SDK, you will have to create a bot in the ui.\nThis bot will be linked to one team of your organisation in order to perform actions.\nYou can create one bot in the organisation's configuration page : ",Object(r.b)("inlineCode",{parentName:"p"},"https://account.stratumn.com/organization/bots"),".\nDon't forget to add the bot to the team he should belong in the configuration page : ",Object(r.b)("inlineCode",{parentName:"p"},"https://account.preprod.stratumn.com/organization/groups"),"."),Object(r.b)("p",null,"You will need to generate ED25519 ssh keys, and fill the private key in the following format (with the new line at the end):"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},"-----BEGIN ED25519 PUBLIC KEY-----\n      Y9Vzvg4Sl7nkI17O6/zbq60w4UP2bv+rI6pJvBy/mo8=\n-----END ED25519 PUBLIC KEY-----\n\n")),Object(r.b)("p",null,'In the SDK\'s code, you then have to set the private key, replacing line breaks with "\\n", for example :'),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},'key = "-----BEGIN ED25519 PRIVATE KEY-----\\nMmEqkCAUEczwwYB2gGyRg27du9biQmHbOx++XWGimw9j1XO+DdKXueQjX07r/NurrTDhQ/Zu/6sjqkm8HL+ajw==\\n-----END ED25519 PRIVATE KEY-----\\n"\n')),Object(r.b)("h3",{id:"sdks-configuration"},"SDKs configuration"),Object(r.b)(i.a,{groupId:"choosen-language",defaultValue:"js",values:[{label:"JavaScript",value:"js"},{label:"C#",value:"csharp"},{label:"Java",value:"java"}],mdxType:"Tabs"},Object(r.b)(c.a,{value:"js",mdxType:"TabItem"},"You must start by importing the `Sdk` class definition:",Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-js"},'var { Sdk } = require("@stratumn/sdk");\n')),Object(r.b)("p",null,"You can then create a new instance of the ",Object(r.b)("inlineCode",{parentName:"p"},"Sdk"),":"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-js"},"var sdk = new Sdk({\n  workflowId: YOUR_CONFIG.workflowId,\n  secret: { privateKey: YOUR_SECRETS.privateKey },\n});\n")),Object(r.b)("p",null,"By default the ",Object(r.b)("inlineCode",{parentName:"p"},"Sdk")," is configured to point to the production environment of Trace. During a development phase, you can configure the ",Object(r.b)("inlineCode",{parentName:"p"},"Sdk")," to point to the staging environment:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-js"},'var sdk = new Sdk({\n  workflowId: YOUR_CONFIG.workflowId,\n  secret: { privateKey: YOUR_SECRETS.privateKey },\n  endpoints: {\n    trace: "https://trace-api.staging.stratumn.com",\n    account: "https://account-api.staging.stratumn.com",\n    media: "https://media-api.staging.stratumn.com",\n  },\n});\n'))),Object(r.b)(c.a,{value:"csharp",mdxType:"TabItem"},Object(r.b)("p",null,"You must start by importing the ",Object(r.b)("inlineCode",{parentName:"p"},"Sdk")," class definition:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-cs"},"using Stratumn.Sdk\n")),Object(r.b)("p",null,"You can then create a new instance of the ",Object(r.b)("inlineCode",{parentName:"p"},"Sdk"),":"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-cs"},"  Secret s = Secret.NewPrivateKeySecret(YOUR_SECRETS.privateKey);\n  SdkOptions opts = new SdkOptions(YOUR_CONFIG.workflowId, s);\n")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"By default the ",Object(r.b)("inlineCode",{parentName:"li"},"Sdk")," is configured to point to the production environment of Trace. During a development phase, you can configure the ",Object(r.b)("inlineCode",{parentName:"li"},"Sdk")," to point to the staging environment:")),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-cs"},'Secret s = Secret.NewPrivateKeySecret(YOUR_SECRETS.privateKey);\nSdkOptions opts = new SdkOptions(YOUR_CONFIG.workflowId, s);\nopts.Endpoints = new Endpoints {\n  Trace = "https://trace-api.staging.stratumn.com",\n  Account = "https://account-api.staging.stratumn.com",\n  Media = "https://media-api.staging.stratumn.com",\n};\n')),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"To enable low level http debuging set the enableDebugging option to true;")),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-cs"},"opts.setEnableDebuging(true);\n")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"To connect through a proxy server:")),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-cs"},'opts.setProxy("MyProxyHost", 1234);\n')),Object(r.b)("p",null,"Finally to create the sdk instance:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-cs"},"Sdk<MyStateType> sdk = new Sdk<MyStateType>(opts, MyStateType.class);\n"))),Object(r.b)(c.a,{value:"java",mdxType:"TabItem"},Object(r.b)("p",null,"You must start by importing the ",Object(r.b)("inlineCode",{parentName:"p"},"Sdk")," class:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-java"},"import com.stratumn.sdk.Sdk;\n")),Object(r.b)("p",null,"You can then create a new instance of the ",Object(r.b)("inlineCode",{parentName:"p"},"Sdk"),":"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-java"},"  Secret s = Secret.newPrivateKeySecret(YOUR_SECRETS.privateKey);\n  SdkOptions opts = new SdkOptions(YOUR_CONFIG.workflowId, s);\n")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"By default the ",Object(r.b)("inlineCode",{parentName:"li"},"Sdk")," is configured to point to the production environment of Trace. During a development phase, you can configure the ",Object(r.b)("inlineCode",{parentName:"li"},"Sdk")," to point to the staging environment:")),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-java"},'Secret s = Secret.NewPrivateKeySecret(YOUR_SECRETS.privateKey);\nSdkOptions opts = new SdkOptions(YOUR_CONFIG.workflowId, s);\nopts.setEndpoints(new Endpoints("https://account-api.staging.stratumn.com", "https://trace-api.staging.stratumn.com", "https://media-api.staging.stratumn.com"));\n')),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"To enable low level http debuging set the enableDebugging option to true;")),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-java"},"opts.setEnableDebuging(true);\n")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"To connect through a proxy server:")),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-java"},'opts.setProxy("MyProxyHost", 1234);\n')),Object(r.b)("p",null,"Finally to create the sdk instance:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-java"},"Sdk<MyStateType> sdk = new Sdk<MyStateType>(opts, MyStateType.class);\n")))))}u.isMDXComponent=!0}}]);